import{flags as e,scanDirectives as t,filterSchema as s,walkThroughHandler as a}from"./lib/engine.min.js";let SyntaxeIO={};SyntaxeIO.apply=(e=null)=>{if(!e||!e.app)throw Error("No app detected.");new SyntaxeRequestGate(e)};let SyntaxeRequestGate=class{constructor(e=null){e.app.set("syntaxeEnabledStatus",e.enabled),e.app.use(this.#a)}async #a(e,a,n){let{resolve:p,schema:l,client:i}=t(e),r=e.app.get("syntaxeEnabledStatus");a.set("Syntaxe-Enabled",r),r&&p&&(a.syntaxeSchema=await s(l),new SyntaxeResponseGate(a)),n()}},SyntaxeResponseGate=class{#b;#c;#d;constructor(e){this.#b=e,this.#d=this.#b.send,this.#b.send=this.#e()}#e(){return async e=>{this.#c=await a({data:e,res:this.#b})??e,this.#f()}}#f(){this.#d.call(this.#b,this.#c)}};export default SyntaxeIO;